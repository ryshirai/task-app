# アプリケーション機能拡張提案書

現状の「チームの状況を一目で把握する」というコンセプトをさらに強化し、チームの生産性とコラボレーションを最大化するための新機能を提案します。

## 1. 提案機能一覧

### A. タスクの依存関係（コネクション）表示
- **内容:** あるタスクが別のタスクの完了を待っている場合、タスク間を矢印で結びます。
- **価値:** ボトルネックの早期発見と、作業順序の明確化。
- **UI:** タスクバーの端をドラッグして他のタスクに繋げる直感的な操作。

### B. タグとプロジェクト管理
- **内容:** タスクに「プロジェクトA」「会議」「緊急」などのタグを付与。
- **価値:** 特定のプロジェクトに絞ったタイムライン表示や、業務種別ごとの時間配分の可視化。
- **UI:** 色分けされた小さなラベルをタスクバー内に表示。

### C. WebSocket による完全リアルタイム同期
- **内容:** 現在の 5秒ごとのポーリングを廃止し、誰かがタスクを動かした瞬間に全員の画面が更新されるようにします。
- **価値:** 情報の鮮度を 100% に保ち、ダブルブッキングや情報の不一致を防ぐ。
- **UI:** 「〇〇さんが編集中...」といったインジケーターの表示。

### D. AI 進捗レポート (Gemini 連携)
- **内容:** 1日の終わりに、その日のチームの動きを AI が要約。
- **価値:** 日報作成の自動化と、マネージャー向けのクイックな状況把握。
- **UI:** ダッシュボード上部に「今日のハイライト」セクションを追加。

### E. ダークモードとカスタムテーマ
- **内容:** ユーザーの好みに合わせた外観設定。
- **価値:** 長時間の監視業務における目の疲れの軽減。

---

## 2. 実装計画 (フェーズ別)

### フェーズ 5: コラボレーション強化 (短期)
1.  **タグ機能の実装**: データベースへの `tags` テーブル追加と、フロントエンドでのフィルタリング。
2.  **WebSocket 対応**: Rust (Axum) で `tokio-tungstenite` を使用し、ブロードキャスト機能を実装。

### フェーズ 6: 構造化と可視化 (中期)
1.  **依存関係の可視化**: SVG を使用してタスク間を結ぶラインを描画。
2.  **詳細検索・フィルタリング**: タグやステータスによる表示の切り替え。

### フェーズ 7: インテリジェンス (長期)
1.  **Gemini API 連携**: バックエンドからタスク履歴を Gemini に送信し、サマリーを生成するエンドポイントの作成。
2.  **モバイル最適化**: 縦画面での表示を最適化。

---

## 3. 次のステップ

どの機能から着手すべきか、ご意見をお聞かせください。
特に「WebSocket によるリアルタイム化」や「タグ機能」は、既存の基盤を活かして比較的スムーズに導入可能です。
